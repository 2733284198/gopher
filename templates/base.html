<!DOCTYPE html>
<html lang="zh_CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ .title }} - Golang 中国</title>
    <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
    <link href="{{ staticfile "css/semantic.min.css" }}" rel="stylesheet" type="text/css" />
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script src="{{ staticfile "js/gt.js" }}"></script>
    <script src="{{ staticfile "js/semantic.min.js" }}"></script>
    <script src="{{ staticfile "js/fetch.js" }}"></script>
    <script src="{{ staticfile "js/application.js" }}"></script>
    <script src="{{ staticfile "js/react.min.js" }}"></script>
    <script src="{{ staticfile "js/react-dom.min.js" }}"></script>
    <script src="{{ staticfile "js/babel.min.js" }}"></script>
    <script src="{{ staticfile "js/js.cookie.js" }}"></script>
    <script src="{{ staticfile "js/showdown.min.js" }}"></script>
    <script type="text/babel" src="{{ staticfile "js/components.js" }}"></script>
    <style type="text/css">
      body, .ui.items>.item>.content>.header {
        font-family: "Microsoft Yahei";
      }
    </style>
    <script type="text/javascript">
      function signout() {
        Cookies.remove('user');
        window.location.reload("/");
      }
    </script>
  </head>
  <body>
    <div class="ui menu">
      <div class="ui container">
        <a class="header item" href="/" style="padding-top: 0; padding-bottom: 0; padding-left: 0; border: none; background-color: white;">
          <img src="https://is.golangtc.com/logo/golangtc.png?height=60" class="ui">
        </a>
        <a class="item" href="/">主题</a>
        <a class="item" href="/members">会员</a>
        {{ if .user }}
        <div class="ui dropdown right item">
          {{ .user.Username }}
          <i class="dropdown icon"></i>
          <div class="menu">
            <a href="/user_center/profile" class="item"><i class="edit icon"></i> 用户信息</a>
            <a href="/user_center/favorites" class="item"><i class="star  icon"></i> 我的收藏</a>
            <a href="/user_center/change_password" class="item"><i class="lock icon"></i> 修改密码</a>
            <a class="item" href="javascript: signout();"><i class="sign out icon"></i> 登出</a>
          </div>
        </div>
        {{ else }}
        <div class="right menu">
          <a class="item" href="/signin">登录</a>
          <a class="item" href="/signup">注册</a>
        </div>
        {{ end }}
      </div>
    </div>

    <div class="ui container">
      {{ template "body" .}}
    </div>

    <footer class="ui footer segment">
      <div class="ui container">
        <div class="ui grid">
          <div class="twelve wide column">
            <div class="row">
              <div class="ui text menu">
                <div class="header item">
                  &copy; 2012-2018 Golang China
                </div>
                <a class="item" href="/about">关于</a>
              </div>
            </div>
            <div class="row">
              Build by <a href="https://github.com/jimmykuu/gopher">Gopher</a>,
              Powered by <a href="https://github.com/lunny/tango">Tango</a>,
              Based on <a href="https://semantic-ui.com/">Semantic UI</a>.
            </div>
            <div class="row">
              Version: {{ .version }}, Build version {{ .goVersion }}. {{ .costTime }}.
            </div>
          </div>
          <div class="four wide column">
            <iframe src="https://ghbtns.com/github-btn.html?user=jimmykuu&repo=gopher&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
          </div>
        </div>
      </div>
    </footer>
  </body>
  <script type="text/javascript">
    $('.ui.dropdown').dropdown();
  </script>
</html>